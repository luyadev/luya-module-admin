var observeLogin=function(e,o,n){$(e).submit(function(e){$("#errorsContainer").hide(),$('.login-btn[type="submit"]').attr("disabled",!0),$(".login-spinner").show(),$(".login-btn-label").hide(),e.preventDefault(),$.ajax({type:"POST",url:o,data:$(this).serialize(),success:function(e){$('.login-btn[type="submit"]').attr("disabled",!1),$(".login-spinner").hide(),$(".login-btn-label").show();var o=e.refresh,n=e.errors,i=e.enterSecureToken,r="<ul>";for(var s in n)r=r+"<li>"+n[s]+"</li>";r+="</ul>",n&&($("#errorsContainer").html(r),$("#errorsContainer").show(),$("#password").val(""),$("#email").focus()),i&&($("#secureForm").show(),$("#loginForm").hide()),o&&($("#success").show(),$("#secureForm").hide(),$("#loginForm").hide(),$(".login-logo").hide(),location.reload())},dataType:"json"})}),$("#secureForm").submit(function(e){$("#errorsSecureContainer").hide(),$('.login-btn[type="submit"]').attr("disabled",!0),$(".login-spinner").show(),$(".login-btn-label").hide(),e.preventDefault(),$.ajax({type:"POST",url:n,data:$(this).serialize(),success:function(e){$(".login-spinner").hide(),$(".login-btn-label").show(),$('.login-btn[type="submit"]').attr("disabled",!1);var o=e.refresh;e.errors&&($("#errorsSecureContainer").html("<ul><li>"+e.errors+"</li></ul>"),$("#errorsSecureContainer").show()),o&&($("#success").show(),$("#secureForm").hide(),$("#loginForm").hide(),$(".login-logo").hide(),location.reload())},dataType:"json"})}),$("#abortToken").click(function(e){$(".spinner").hide(),$(".submit-icon").show(),$("#errorsContainer").hide(),$("#secureForm").hide(),$("#loginForm").show(),$("#success").hide()})},checkInputLabels=function(){var e=$(".login-input"),o=function(e){var o=e.val()?e.val():"",n="rgb(250, 255, 189)"===window.getComputedStyle(e[0],null).getPropertyValue("background-color");1<=o.length||!0===n?e.addClass("is-not-empty").removeClass("is-empty"):e.addClass("is-empty").removeClass("is-not-empty")};e.on("keyup paste change click",function(){o($(this))}),e.each(function(){o($(this))})};$(window).on("load",function(){$(".login-logo").addClass("login-logo-loaded"),$(".login-form").addClass("login-form-loaded"),checkInputLabels()});